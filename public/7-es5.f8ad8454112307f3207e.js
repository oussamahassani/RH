!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{omSo:function(e,i,r){"use strict";r.r(i),r.d(i,"ClientLayoutModule",(function(){return Ft}));var c=r("iInd"),o=r("SVse"),a=r("s7LF"),s=r("NMxE"),l=r("8ZfG"),d=r("9ans"),b=r("VKgo"),u=r("rHPJ"),p=r("5QHs"),m=r("LUZP"),f=r("OaSA"),g=r("AytR"),v=r("8Y7J"),h=r("Q2Ze"),T=r("e6WT");function U(t,e){if(1&t&&(v.Ub(0,"div",11),v.Ub(1,"span",43),v.Tc(2,"Montant : "),v.Tb(),v.Tc(3),v.Tb()),2&t){var n=v.kc();v.Bb(3),v.Vc(" ",n.getAmount().all," ")}}function y(t,e){1&t&&(v.Ub(0,"i",7),v.Tc(1,"warning"),v.Tb())}function x(t,e){1&t&&(v.Ub(0,"i",7),v.Tc(1,"done"),v.Tb())}function w(t,e){if(1&t&&(v.Ub(0,"div",11),v.Ub(1,"span",44),v.Tc(2,"Montant : "),v.Tb(),v.Tc(3),v.Tb()),2&t){var n=v.kc();v.Bb(3),v.Vc(" ",n.getAmount().unpaid," ")}}function k(t,e){1&t&&(v.Ub(0,"th",45),v.Tc(1," N\xb0 "),v.Tb())}function O(t,e){if(1&t&&(v.Ub(0,"td",46),v.Tc(1),v.Tb()),2&t){var n=e.$implicit;v.Bb(1),v.Vc(" ",n.numero,"")}}function S(t,e){1&t&&(v.Ub(0,"th",45),v.Tc(1," Date de creation "),v.Tb())}function C(t,e){if(1&t&&(v.Ub(0,"td",46),v.Tc(1),v.lc(2,"date"),v.Tb()),2&t){var n=e.$implicit,i=v.kc();v.Bb(1),v.Vc(" ",v.nc(2,1,i.stringAsDate(n.createdAt),"dd/MM/yyyy HH:mm"),"")}}function B(t,e){1&t&&(v.Ub(0,"th",45),v.Tc(1," Montant Total HT "),v.Tb())}function P(t,e){if(1&t&&(v.Ub(0,"td",46),v.Tc(1),v.Tb()),2&t){var n=e.$implicit;v.Bb(1),v.Uc(n.amount)}}function R(t,e){1&t&&(v.Ub(0,"th",45),v.Tc(1," Status "),v.Tb())}function _(t,e){1&t&&(v.Ub(0,"span",49),v.Tc(1,"pay\xe9"),v.Tb())}function M(t,e){if(1&t){var n=v.Vb();v.Ub(0,"a",50),v.gc("click",(function(){v.Ic(n);var t=v.kc().$implicit;return v.kc().togglModal(t._id,t.numero)})),v.Tc(1,"non pay\xe9"),v.Tb()}}function D(t,e){if(1&t&&(v.Ub(0,"td",46),v.Rc(1,_,2,0,"span",47),v.Rc(2,M,2,0,"a",48),v.Tb()),2&t){var n=e.$implicit;v.Bb(1),v.rc("ngIf",n.paid_status),v.Bb(1),v.rc("ngIf",!n.paid_status)}}function I(t,e){1&t&&(v.Ub(0,"th",45),v.Tc(1," Action "),v.Tb())}function F(t,e){if(1&t){var n=v.Vb();v.Ub(0,"td",46),v.Ub(1,"div",51),v.Ub(2,"i",52),v.gc("click",(function(){v.Ic(n);var t=e.$implicit;return v.kc().print(t)})),v.Tc(3,"print"),v.Tb(),v.Tb(),v.Tb()}}function A(t,e){1&t&&v.Pb(0,"tr",53)}function N(t,e){1&t&&v.Pb(0,"tr",54)}function L(t,e){1&t&&v.Pb(0,"th",45)}function V(t,e){if(1&t&&v.Pb(0,"img",56),2&t){var n=v.kc().$implicit,i=v.kc();v.sc("src",i.uri+n.image,v.Kc)}}function E(t,e){if(1&t&&(v.Ub(0,"td",46),v.Rc(1,V,1,1,"img",55),v.Tb()),2&t){var n=e.$implicit;v.Bb(1),v.rc("ngIf",n.image)}}function z(t,e){1&t&&(v.Ub(0,"th",45),v.Tc(1," Nom et Pr\xe9nom "),v.Tb())}function H(t,e){if(1&t&&(v.Ub(0,"td",46),v.Tc(1),v.Tb()),2&t){var n=e.$implicit;v.Bb(1),v.Wc(" ",n.fname," ",n.lname," ")}}function Z(t,e){1&t&&(v.Ub(0,"th",45),v.Tc(1," Email"),v.Tb())}function J(t,e){if(1&t&&(v.Ub(0,"td",46),v.Tc(1),v.Tb()),2&t){var n=e.$implicit;v.Bb(1),v.Uc(n.email)}}function q(t,e){1&t&&(v.Ub(0,"th",45),v.Tc(1," Tel "),v.Tb())}function j(t,e){if(1&t&&(v.Ub(0,"td",46),v.Tc(1),v.Tb()),2&t){var n=e.$implicit;v.Bb(1),v.Vc(" ",n.tel," ")}}function W(t,e){1&t&&v.Pb(0,"tr",53)}function K(t,e){1&t&&v.Pb(0,"tr",54)}var X,G=function(){return["/myservices"]},Q=function(t,e){return{"card-header-danger":t,"card-header-success":e,"card-header card-header-success card-header-icon":!0}},Y=function(){return[5,10,20]},tt=((X=function(){function e(n,i,r,c,o,a){t(this,e),this.employeeService=n,this.mService=i,this.authservice=r,this.adminService=c,this.cService=o,this.datepipe=a,this.uri=g.a.awsUrl,this.unpaidbills=0,this.serviceEncours=0,this.clientId=this.authservice.getIdfromToken(),this.displayedColumns=["n","dateCreation","montantTotal","status","action"],this.displayedColumnsUsers=["image","Nom","Email","Tel"],this.fetchBills(),this.fetchServices(),this.getclient()}return n(e,[{key:"ngOnInit",value:function(){}},{key:"fetchServices",value:function(){var t=this;this.vis=[],this.mService.getServicesByClientId(this.clientId).subscribe((function(e){t.services=e;for(var n=0;n<e.length;++n)"En cours"===e[n].finish_date&&t.serviceEncours++;t.employeeService.getUsers().subscribe((function(e){t.users=e,t.services.forEach((function(e){t.users.some((function(t){return t._id==e.clientConsult}))&&(t.vis.some((function(t){return t._id==e.clientConsult}))||t.vis.push(t.users.find((function(t){return t._id==e.clientConsult}))))})),t.usersData=new f.k,t.usersData.data=t.vis,t.usersData.paginator=t.paginatorUsers,t.usersData.sort=t.sortUsers}),(function(t){console.log(t)}))}),(function(t){console.log(t)}))}},{key:"applyFilter",value:function(t){this.MyDataSource.filter=t.trim().toLowerCase()}},{key:"applyFilterUsers",value:function(t){this.usersData.filter=t.trim().toLowerCase()}},{key:"getclient",value:function(){var t=this;this.adminService.getOneClient(this.clientId).subscribe((function(e){t.client=e,t.getConfig()}),(function(t){console.log(t)}))}},{key:"fetchBills",value:function(){var t=this;this.employeeService.getbillForClient(this.clientId).subscribe((function(e){t.bills=e,console.log(t.bills);for(var n=0,i=0;i<e.length;++i)!0===e[i].paid_status&&n++;t.unpaidbills=e.length-n,t.MyDataSource=new f.k,t.MyDataSource.data=e,t.MyDataSource.paginator=t.paginator,t.MyDataSource.sort=t.sort}),(function(t){console.log(t)}))}},{key:"getAmount",value:function(){var t=0,e=0;return this.bills.forEach((function(n){0==n.paid_status&&(e+=Number(n.amount.replace(/\s/g,""))),t+=Number(n.amount.replace(/\s/g,""))})),{all:Number(t.toString().replace(/\s/g,"")).toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 "),unpaid:Number(e.toString().replace(/\s/g,"")).toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")}}},{key:"stringAsDate",value:function(t){return new Date(t)}},{key:"getConfig",value:function(){var t=this;this.cService.getConfig().subscribe((function(e){e.length>0&&(t.config=e[0].structure.find((function(e){return e._id==t.client.structure})))}),(function(t){console.log(t)}))}},{key:"print",value:function(t){var e,n,i=this,r=Number(t.amount.replace(/\s/g,""))+t.vat+t.rs+t.debour+Number("0.60".replace(/\s/g,""));console.log(Number(t.amount.replace(/\s/g,""))),console.log(t.rs),console.log(t.debour),r=Number(r.toString().replace(/\s/g,"")).toFixed(3).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ");var c=this.services.find((function(e){return e._id==t.service}));1==t.type&&(c.name="Avance "+c.name,c.montant=t.amount);var o=this.datepipe.transform(this.stringAsDate(t.createdAt),"yyyy-MM-dd HH:mm");e='<div class="container printable" id="bill">\n    <div class="row">\n        <div class="col-md-12">\n    \t\t<div class="invoice-title">\n\t\t\t\t<h3>'+o+'</h3>\n\t\t\t\t<h3 class="pull-right">Note d\'honoraires N\xb0 '+t.numero+'</h3>\n    \t\t</div>\n    \t\t<hr>\n    \t\t<div class="row">\n    \t\t\t<div class="col-md-6">\n    \t\t\t\t<address>\n        \t\t\t<strong>Factur\xe9 de:</strong><br>'+this.config.name+"<br>"+this.config.mat_fis+"<br>"+this.config.email+"<br>"+this.config.adress+'</address>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-md-6 float-right">\n\t\t\t\t\t\t\t <div class="logo float-right">\n\t\t\t\t\t\t\t\t\t<a href="javascript:;" class="simple-text">\n\t\t\t\t\t\t\t\t\t\t\t<div class="logo-img">\n\t\t\t\t\t\t\t\t\t\t\t\t<img width="90px" height="auto" src="'+this.uri+this.config.image+'"/> \n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t\t<address>\n              <strong>Factur\xe9 \xe0:</strong><br>',e+=this.client.name?"<div>"+this.client.name+"</div>":"<div>"+this.client.fname+" "+this.client.lname+"</div>",e+="<div>"+this.client.mat_fis+"</div>\n                                    "+this.client.adress+"<br>\n                                    "+this.client.tel+"<br>\n                                    "+this.client.email+'</address>\n\t\t\t\t\t\t</div>\n    \t\t</div>\n    \t</div>\n    </div>\n    \n    <div class="row">\n    \t<div class="col-md-12">\n    \t\t<div class="panel panel-default">\n          <div class="panel-heading">',e+=0==t.type?"<h3 class='panel-title'><strong><strong>R\xe9sum\xe9 du note d'honoraires</strong></h3>":"<h3 class='panel-title'><strong><strong>Avance sur note d'honoraires</strong></h3>",e+='</div>\n    \t\t\t<div class="panel-body">\n    \t\t\t\t<div class="table-responsive">\n    \t\t\t\t\t<table class="table table-condensed">\n    \t\t\t\t\t\t<thead>\n                                <tr>\n        \t\t\t\t\t\t\t<td><strong>Libell\xe9</strong></td>\n        \t\t\t\t\t\t\t<td class="text-center"><strong></strong></td>\n        \t\t\t\t\t\t\t<td class="text-center"><strong></strong></td>\n        \t\t\t\t\t\t\t<td class="text-right"><strong>Prix HT</strong></td>\n        \t\t\t\t\t\t\t<td class="text-center"><strong></strong></td>\n                                </tr>\n    \t\t\t\t\t\t</thead>\n    \t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t<ng-container >\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>'+c.name+'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="text-center">\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="text-center"></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="text-right">'+c.montant+'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="text-right"></td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\t\n                  </ng-container>',this.bills&&0==t.type&&this.bills.forEach((function(t){1==t.type&&(e+="<tr>\n                      <td>Avance sur note d'honoraires : "+t.numero+'</td>\n                      <td class="text-center"></td>\n                      <td class="text-center"> <span class="noprint">'+i.datepipe.transform(i.stringAsDate(t.createdAt),"yyyy-MM-dd")+'</span></td>\n                      <td class="text-right">-'+t.amount+'</td>\n                      <td class="text-right"></td>\n                    </tr>')})),t.debours.length>0&&(e+='<tr>\n                    <td><strong>D\xe9bours</strong></td>\n                    <td class="text-center"></td>\n                    <td class="text-center"></td>\n                    <td class="text-right"></td>\n                    <td class="text-right"></td>\n                  </tr>',t.debours.forEach((function(t){e+="<tr>\n                      <td>"+t.libelle+'</td>\n                      <td class="text-center"></td>\n                      <td class="text-center"></td>\n                      <td class="text-right">'+t.montant+'</td>\n                      <td class="text-right"></td>\n                    </tr>'}))),e+='<tr>\n    \t\t\t\t\t\t\t\t<td style="border-top: 2px solid;" class="thick-line"></td>\n    \t\t\t\t\t\t\t\t<td style="border-top: 2px solid;" class="thick-line"></td>\n    \t\t\t\t\t\t\t\t<td style="border-top: 2px solid;" class="thick-line text-center"></td>\n    \t\t\t\t\t\t\t\t<td style="border-top: 2px solid;" class="thick-line text-right"></td>\n\t\t\t\t\t\t\t\t  </tr>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t   \t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style="border: none;"></td>\t<td style="border: none;"></td>\n\t\t\t\t\t\t\t\t\t\t<td class="no-line text-center"><strong>Total HT</strong></td>\n\t\t\t\t\t\t\t\t\t\t<td class="no-line text-right">'+t.amount+'</td>\n\t\t\t\t\t\t\t\t\t</tr>\n    \t\t\t\t\t\t\t<tr>\n                  <td style="border: none;"></td>\t<td style="border: none;"></td>\n                  <td class="no-line text-center"><strong>TVA</strong></td>\n    \t\t\t\t\t\t\t<td class="no-line text-right">13%</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td style="border: none;"></td>\t<td style="border: none;"></td>\n\t\t\t\t\t\t\t\t\t<td class="no-line text-center"><strong>Total TVA</strong></td>\n    \t\t\t\t\t\t\t\t<td class="no-line text-right">'+Number(t.vat.toString().replace(/\s/g,"")).toFixed(3).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")+'</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td style="border:none;"></td>\t<td style="border: none;"></td>\n\t\t\t\t\t\t\t\t\t<td class="no-line text-center"><strong>Timbre fiscal</strong></td>\n    \t\t\t\t\t\t\t\t<td class="no-line text-right">0.600</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style="border: none;"></td>\t<td style="border: none;"></td>\n\t\t\t\t\t\t\t\t\t\t<td class="no-line text-center"><strong>R/S</strong></td>\n\t\t\t\t\t\t\t\t\t\t<td class="no-line text-right">'+Number(t.rs.toString().replace(/\s/g,"")).toFixed(3).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")+'</td>\n\t\t\t\t\t\t\t\t\t</tr>\n    \t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td style="border: none;"></td>\t<td style="border: none;"></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class="no-line text-center"><strong>D\xe9bours</strong></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class="no-line text-right">'+Number(t.debour.toString().replace(/\s/g,"")).toFixed(3).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")+'</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n    \t\t\t\t\t\t\t\t<td style="border: none;"></td>\n    \t\t\t\t\t\t\t\t<td style="border: none;"></td>\n    \t\t\t\t\t\t\t\t<td class="no-line text-center"><strong>Total</strong></td>\n    \t\t\t\t\t\t\t\t<td class="no-line text-right">'+r+"</td>\n    \t\t\t\t\t\t\t</tr>\n    \t\t\t\t\t\t</tbody>\n    \t\t\t\t\t</table>\n    \t\t\t\t</div>\n    \t\t\t</div>\n    \t\t</div>\n    \t</div>\n    </div>\n</div>",(n=window.open("","_blank","top=0,left=50%,height="+screen.height+",width="+screen.width)).document.open(),n.document.write("<html>\n     ".concat($("head").clone().html(),'\n    <body onload="window.print();window.close()">').concat(e,"</body></html>")),n.document.close()}}]),e}()).\u0275fac=function(t){return new(t||X)(v.Ob(l.a),v.Ob(s.a),v.Ob(d.a),v.Ob(b.a),v.Ob(u.a),v.Ob(o.e))},X.\u0275cmp=v.Ib({type:X,selectors:[["app-home"]],viewQuery:function(t,e){var n;1&t&&(v.Nc(p.a,!0),v.Nc(m.a,!0),v.Nc(p.a,!0),v.Nc(m.a,!0)),2&t&&(v.Ec(n=v.hc())&&(e.paginator=n.first),v.Ec(n=v.hc())&&(e.sort=n.first),v.Ec(n=v.hc())&&(e.paginatorUsers=n.first),v.Ec(n=v.hc())&&(e.sortUsers=n.first))},decls:113,vars:26,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-lg-3","col-md-6","col-sm-6"],[1,"card","card-stats"],[1,"card-header","card-header-primary","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-category"],[1,"card-title"],[1,"card-footer"],[1,"stats"],[1,"material-icons","text-primary"],[3,"routerLink"],[1,"card-header","card-header-warning","card-header-icon"],[1,"material-icons","text-warning"],[1,"text-warning",3,"routerLink"],[1,"card-header","card-header-info","card-header-icon"],["class","stats",4,"ngIf"],[3,"ngClass"],["class","material-icons",4,"ngIf"],[1,"col-lg-6","col-md-12"],[1,"card"],[1,"card-header","card-header-warning"],[1,"card-body","table-responsive"],["matInput","","placeholder","Filter",3,"keyup"],[1,"table-responsive"],["mat-table","","multiTemplateDataRows","","matSort","",1,"table","borderless",3,"dataSource"],["matColumnDef","n"],["mat-header-cell","","mat-sort-header","","class","header",4,"matHeaderCellDef"],["class","pt-3 pb-3","mat-cell","",4,"matCellDef"],["matColumnDef","dateCreation"],["matColumnDef","montantTotal"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],[1,"card-header","card-header-primary"],["matColumnDef","image"],["matColumnDef","Nom"],["matColumnDef","Email"],["matColumnDef","Tel"],[1,"text-info"],[1,"text-danger"],["mat-header-cell","","mat-sort-header","",1,"header"],["mat-cell","",1,"pt-3","pb-3"],["class","badge badge-success",4,"ngIf"],["data-toggle","modal","data-target","#myModal","class","enzel badge badge-warning",3,"click",4,"ngIf"],[1,"badge","badge-success"],["data-toggle","modal","data-target","#myModal",1,"enzel","badge","badge-warning",3,"click"],["role","group","aria-label","Basic example",1,"btn-group"],[1,"enzel","text-primary","material-icons","mr-2",3,"click"],["mat-header-row",""],["mat-row",""],["class","img","style","width:50px;height:50px",3,"src",4,"ngIf"],[1,"img",2,"width","50px","height","50px",3,"src"]],template:function(t,e){1&t&&(v.Ub(0,"div",0),v.Ub(1,"div",1),v.Ub(2,"div",2),v.Ub(3,"div",3),v.Ub(4,"div",4),v.Ub(5,"div",5),v.Ub(6,"div",6),v.Ub(7,"i",7),v.Tc(8,"class"),v.Tb(),v.Tb(),v.Ub(9,"p",8),v.Tc(10,"Mes Services"),v.Tb(),v.Ub(11,"h3",9),v.Tc(12),v.Tb(),v.Tb(),v.Ub(13,"div",10),v.Ub(14,"div",11),v.Ub(15,"i",12),v.Tc(16,"remove_red_eye"),v.Tb(),v.Ub(17,"a",13),v.Tc(18,"Voir tout..."),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Ub(19,"div",3),v.Ub(20,"div",4),v.Ub(21,"div",14),v.Ub(22,"div",6),v.Ub(23,"i",7),v.Tc(24,"list"),v.Tb(),v.Tb(),v.Ub(25,"p",8),v.Tc(26,"Services en cours"),v.Tb(),v.Ub(27,"h3",9),v.Tc(28),v.Tb(),v.Tb(),v.Ub(29,"div",10),v.Ub(30,"div",11),v.Ub(31,"i",15),v.Tc(32,"remove_red_eye"),v.Tb(),v.Ub(33,"a",16),v.Tc(34,"Voir tout..."),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Ub(35,"div",3),v.Ub(36,"div",4),v.Ub(37,"div",17),v.Ub(38,"div",6),v.Ub(39,"i",7),v.Tc(40,"note"),v.Tb(),v.Tb(),v.Ub(41,"p",8),v.Tc(42,"Mes Factures"),v.Tb(),v.Ub(43,"h3",9),v.Tc(44),v.Tb(),v.Tb(),v.Ub(45,"div",10),v.Rc(46,U,4,1,"div",18),v.Tb(),v.Tb(),v.Tb(),v.Ub(47,"div",3),v.Ub(48,"div",4),v.Ub(49,"div",19),v.Ub(50,"div",6),v.Rc(51,y,2,0,"i",20),v.Rc(52,x,2,0,"i",20),v.Tb(),v.Ub(53,"p",8),v.Tc(54,"Factures non pay\xe9e"),v.Tb(),v.Ub(55,"h3",9),v.Tc(56),v.Tb(),v.Tb(),v.Ub(57,"div",10),v.Rc(58,w,4,1,"div",18),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Ub(59,"div",2),v.Ub(60,"div",21),v.Ub(61,"div",22),v.Ub(62,"div",23),v.Ub(63,"h4",9),v.Tc(64,"Mes Factures"),v.Tb(),v.Tb(),v.Ub(65,"div",24),v.Ub(66,"mat-form-field"),v.Ub(67,"input",25),v.gc("keyup",(function(t){return e.applyFilter(t.target.value)})),v.Tb(),v.Tb(),v.Ub(68,"div",26),v.Ub(69,"table",27),v.Sb(70,28),v.Rc(71,k,2,0,"th",29),v.Rc(72,O,2,1,"td",30),v.Rb(),v.Sb(73,31),v.Rc(74,S,2,0,"th",29),v.Rc(75,C,3,4,"td",30),v.Rb(),v.Sb(76,32),v.Rc(77,B,2,0,"th",29),v.Rc(78,P,2,1,"td",30),v.Rb(),v.Sb(79,33),v.Rc(80,R,2,0,"th",29),v.Rc(81,D,3,2,"td",30),v.Rb(),v.Sb(82,34),v.Rc(83,I,2,0,"th",29),v.Rc(84,F,4,0,"td",30),v.Rb(),v.Rc(85,A,1,0,"tr",35),v.Rc(86,N,1,0,"tr",36),v.Tb(),v.Pb(87,"mat-paginator",37),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Ub(88,"div",21),v.Ub(89,"div",22),v.Ub(90,"div",38),v.Ub(91,"h4",9),v.Tc(92,"Vis \xe0 vis"),v.Tb(),v.Tb(),v.Ub(93,"div",24),v.Ub(94,"mat-form-field"),v.Ub(95,"input",25),v.gc("keyup",(function(t){return e.applyFilterUsers(t.target.value)})),v.Tb(),v.Tb(),v.Ub(96,"div",26),v.Ub(97,"table",27),v.Sb(98,39),v.Rc(99,L,1,0,"th",29),v.Rc(100,E,2,1,"td",30),v.Rb(),v.Sb(101,40),v.Rc(102,z,2,0,"th",29),v.Rc(103,H,2,2,"td",30),v.Rb(),v.Sb(104,41),v.Rc(105,Z,2,0,"th",29),v.Rc(106,J,2,1,"td",30),v.Rb(),v.Sb(107,42),v.Rc(108,q,2,0,"th",29),v.Rc(109,j,2,1,"td",30),v.Rb(),v.Rc(110,W,1,0,"tr",35),v.Rc(111,K,1,0,"tr",36),v.Tb(),v.Pb(112,"mat-paginator",37),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb()),2&t&&(v.Bb(12),v.Vc("",null==e.services?null:e.services.length," "),v.Bb(5),v.rc("routerLink",v.vc(19,G)),v.Bb(11),v.Uc(e.serviceEncours),v.Bb(5),v.rc("routerLink",v.vc(20,G)),v.Bb(11),v.Uc(null==e.bills?null:e.bills.length),v.Bb(2),v.rc("ngIf",e.bills),v.Bb(3),v.rc("ngClass",v.xc(21,Q,e.unpaidbills>0,e.unpaidbills<=0)),v.Bb(2),v.rc("ngIf",e.unpaidbills>0),v.Bb(1),v.rc("ngIf",e.unpaidbills<=0),v.Bb(4),v.Uc(e.unpaidbills),v.Bb(2),v.rc("ngIf",e.bills),v.Bb(11),v.rc("dataSource",e.MyDataSource),v.Bb(16),v.rc("matHeaderRowDef",e.displayedColumns),v.Bb(1),v.rc("matRowDefColumns",e.displayedColumns),v.Bb(1),v.rc("pageSizeOptions",v.vc(24,Y)),v.Bb(10),v.rc("dataSource",e.usersData),v.Bb(13),v.rc("matHeaderRowDef",e.displayedColumnsUsers),v.Bb(1),v.rc("matRowDefColumns",e.displayedColumnsUsers),v.Bb(1),v.rc("pageSizeOptions",v.vc(25,Y)))},directives:[c.g,o.n,o.l,h.b,T.b,f.j,m.a,f.c,f.e,f.b,f.g,f.i,p.a,f.d,m.b,f.a,f.f,f.h],pipes:[o.e],styles:[".header[_ngcontent-%COMP%]{color:#000;font-size:.95rem;font-weight:500;border-top-width:0;border-bottom-width:1px}.enzel[_ngcontent-%COMP%]{cursor:pointer}.invoice-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoice-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:inline-block}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-top:none}.table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-bottom:none}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .thick-line[_ngcontent-%COMP%]{border-top:2px solid}.noprint[_ngcontent-%COMP%]{display:none}.printOnly[_ngcontent-%COMP%]{display:inline;display:none}.montant[_ngcontent-%COMP%]{text-align:center;width:80px;display:inline;border:0}  .cdk-overlay-container{position:fixed;z-index:1060}"]}),X),et=r("BTe0");function nt(t,e){if(1&t&&(v.Ub(0,"td"),v.Tc(1),v.Tb()),2&t){var n=v.kc().$implicit;v.Bb(1),v.Wc(" ",n.fname," ",n.lname," ")}}function it(t,e){if(1&t&&(v.Sb(0),v.Rc(1,nt,2,2,"td",33),v.Rb()),2&t){var n=e.$implicit,i=v.kc().$implicit;v.Bb(1),v.rc("ngIf",i.clientConsult==n._id)}}var rt=function(){return["/docs"]},ct=function(t){return{id:t}};function ot(t,e){if(1&t){var n=v.Vb();v.Ub(0,"tbody",28),v.gc("click",(function(){v.Ic(n);var t=e.$implicit;return v.kc().checkSuper(t.clientConsult)})),v.Ub(1,"td"),v.Tc(2),v.Tb(),v.Rc(3,it,2,1,"ng-container",29),v.Ub(4,"td"),v.Ub(5,"span"),v.Tc(6),v.Tb(),v.Pb(7,"mat-progress-bar",30),v.Tb(),v.Ub(8,"td"),v.Tc(9),v.lc(10,"date"),v.Tb(),v.Ub(11,"td"),v.Ub(12,"span",31),v.Tc(13),v.Tb(),v.Tb(),v.Ub(14,"td"),v.Ub(15,"a",32),v.Tc(16,"visibility"),v.Tb(),v.Tb(),v.Tb()}if(2&t){var i=e.$implicit,r=v.kc();v.Bb(2),v.Vc(" ",i.name," "),v.Bb(1),v.rc("ngForOf",r.users),v.Bb(3),v.Vc("",r.avenceService(i.tasks)," %"),v.Bb(1),v.sc("value",r.avenceService(i.tasks)),v.Bb(2),v.Vc(" ",v.nc(10,8,r.stringAsDate(i.createdAt),"dd/MM/yyyy")," "),v.Bb(4),v.Vc(" ",i.finish_date,""),v.Bb(2),v.rc("routerLink",v.vc(11,rt))("queryParams",v.wc(12,ct,i._id))}}function at(t,e){if(1&t&&v.Pb(0,"img",34),2&t){var n=v.kc();v.sc("src",null==n.user?null:n.user.image,v.Kc)}}function st(t,e){if(1&t&&(v.Ub(0,"h6",35),v.Tc(1),v.Tb()),2&t){var n=e.$implicit;v.Bb(1),v.Uc(n.groupename)}}var lt,dt=((lt=function(){function e(n,i){t(this,e),this.employeeService=n,this.mService=i,this.uri=g.a.baseUrl,this.awsUrl=g.a.awsUrl}return n(e,[{key:"ngOnInit",value:function(){this.fetchServices(),this.fetchUsers()}},{key:"fetchServices",value:function(){var t=this;this.mService.getServices().subscribe((function(e){t.services=e.filter((function(e){return e.client==t.employeeService.getIdfromToken()})),t.superId=t.services[0].clientConsult,t.employeeService.getOneUser(t.superId).subscribe((function(e){t.user=e,t.user.image=t.awsUrl+e.image,console.log(t.user)}),(function(t){console.log(t)}))}),(function(t){console.log(t)}))}},{key:"checkSuper",value:function(t){var e=this;this.employeeService.getOneUser(t).subscribe((function(t){e.user=t,e.user.image=e.awsUrl+t.image}),(function(t){console.log(t)}))}},{key:"fetchUsers",value:function(){var t=this;this.employeeService.getUsers().subscribe((function(e){t.users=e}),(function(t){console.log(t)}))}},{key:"avenceService",value:function(t){var e=[],n=[];return t.forEach((function(t){"completed"==t.status&&e.push(t),n.push(t)})),e.length/n.length*100}},{key:"stringAsDate",value:function(t){return new Date(t)}}]),e}()).\u0275fac=function(t){return new(t||lt)(v.Ob(l.a),v.Ob(s.a))},lt.\u0275cmp=v.Ib({type:lt,selectors:[["app-messervices"]],decls:54,vars:7,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header","card-header-primary"],[1,"card-title"],[1,"card-category"],[1,"card-body","table-responsive"],[1,"table","table-hover"],[1,"text-primary"],["width","30%"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","card-profile"],[1,"card-avatar"],["class","img","style","width:130px;height:130px",3,"src",4,"ngIf"],[1,"card-body"],[1,"card-title",2,"text-transform","uppercase","letter-spacing","1px"],["class","card-category text-gray",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"card","card-chart"],[1,"card-header","card-header-info",2,"padding","2px","border-radius","20px"],[1,"material-icons"],[1,"card-body",2,"text-align","left"],[1,"card-category",2,"font-size","17px"],[1,"card-footer"],[1,"stats"],[2,"cursor","pointer",3,"click"],[4,"ngFor","ngForOf"],["mode","determinate",3,"value"],[1,"badge","badge-warning"],[1,"text-primary","material-icons",3,"routerLink","queryParams"],[4,"ngIf"],[1,"img",2,"width","130px","height","130px",3,"src"],[1,"card-category","text-gray"]],template:function(t,e){1&t&&(v.Ub(0,"div",0),v.Ub(1,"div",1),v.Ub(2,"div",2),v.Ub(3,"div",3),v.Ub(4,"div",4),v.Ub(5,"div",5),v.Ub(6,"h4",6),v.Tc(7,"Services"),v.Tb(),v.Ub(8,"p",7),v.Tc(9,"Tout mes services:"),v.Tb(),v.Tb(),v.Ub(10,"div",8),v.Ub(11,"table",9),v.Ub(12,"thead",10),v.Ub(13,"th"),v.Tc(14,"Service"),v.Tb(),v.Ub(15,"th"),v.Tc(16,"Superviseur"),v.Tb(),v.Ub(17,"th",11),v.Tc(18,"Avancement"),v.Tb(),v.Ub(19,"th"),v.Tc(20,"Creation"),v.Tb(),v.Ub(21,"th"),v.Tc(22,"Etat"),v.Tb(),v.Tb(),v.Rc(23,ot,17,14,"tbody",12),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Ub(24,"div",13),v.Ub(25,"div",14),v.Ub(26,"div",15),v.Rc(27,at,1,1,"img",16),v.Tb(),v.Ub(28,"div",17),v.Ub(29,"h4",18),v.Tc(30),v.Tb(),v.Rc(31,st,2,1,"h6",19),v.Pb(32,"hr"),v.Ub(33,"div",20),v.Ub(34,"div",21),v.Ub(35,"div",22),v.Ub(36,"h4",6),v.Ub(37,"i",23),v.Tc(38,"person"),v.Tb(),v.Tb(),v.Tb(),v.Pb(39,"br"),v.Ub(40,"div",24),v.Ub(41,"h4",25),v.Ub(42,"i",23),v.Tc(43,"email"),v.Tb(),v.Tc(44),v.Tb(),v.Pb(45,"hr"),v.Ub(46,"h4",25),v.Ub(47,"i",23),v.Tc(48,"call"),v.Tb(),v.Tc(49),v.Tb(),v.Tb(),v.Pb(50,"br"),v.Ub(51,"div",26),v.Ub(52,"div",27),v.Tc(53," Le superviseur de ce service pri\xe8re de le contacter au cas de besoin "),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb()),2&t&&(v.Bb(23),v.rc("ngForOf",e.services),v.Bb(4),v.rc("ngIf",null==e.user?null:e.user.image),v.Bb(3),v.Wc("",null==e.user?null:e.user.fname," ",null==e.user?null:e.user.lname,""),v.Bb(1),v.rc("ngForOf",null==e.user?null:e.user.permissions),v.Bb(13),v.Vc("\xa0\xa0",null==e.user?null:e.user.email,""),v.Bb(5),v.Vc("\xa0\xa0",null==e.user?null:e.user.tel,""))},directives:[o.m,o.n,et.a,c.g],pipes:[o.e],styles:[""]}),lt),bt=r("pYyI"),ut=r("Iab2"),pt=r("nak+"),mt=r("cUpR"),ft=r("zHaW"),gt=r("Dxy4"),vt=r("ZTz/"),ht=r("l0rg"),Tt=r("UhP/");function Ut(t,e){if(1&t){var n=v.Vb();v.Ub(0,"div",43),v.Ub(1,"img",44),v.gc("click",(function(){v.Ic(n);var t=e.$implicit;return v.kc(4).showActions(t._id)})),v.Tb(),v.Ub(2,"div"),v.Tc(3),v.Tb(),v.Ub(4,"div",45),v.Ub(5,"i",46),v.gc("click",(function(){v.Ic(n);var t=e.$implicit;return v.kc(4).downloadTask(t)})),v.Tc(6,"cloud_download"),v.Tb(),v.Tb(),v.Tb()}if(2&t){var i=e.$implicit;v.Bb(1),v.tc("src","../../../../assets/img/",i.docPath.split(".").pop(),".png",v.Kc),v.Bb(2),v.Uc(i.docName),v.Bb(1),v.sc("id",null==i?null:i._id)}}function yt(t,e){if(1&t&&(v.Ub(0,"div",41),v.Rc(1,Ut,7,3,"div",42),v.Tb()),2&t){var n=v.kc().$implicit;v.Bb(1),v.rc("ngForOf",n.docs)}}function xt(t,e){1&t&&(v.Ub(0,"div",41),v.Ub(1,"div",47),v.Ub(2,"i",48),v.Tc(3,"description"),v.Tb(),v.Ub(4,"label",49),v.Tc(5,"Aucun fichier trouv\xe9"),v.Tb(),v.Tb(),v.Tb())}function wt(t,e){if(1&t){var n=v.Vb();v.Ub(0,"div",3),v.Ub(1,"mat-toolbar",34),v.gc("click",(function(){v.Ic(n);var t=e.$implicit;return v.kc(2).rotateArrow(t.docType,"show"+t.docType)})),v.Ub(2,"span",35),v.Tc(3),v.Tb(),v.Pb(4,"span",36),v.Ub(5,"i",37),v.Tc(6,"expand_more"),v.Tb(),v.Tb(),v.Ub(7,"div",38),v.Rc(8,yt,2,1,"div",39),v.Rc(9,xt,6,0,"div",40),v.Tb(),v.Tb()}if(2&t){var i=e.$implicit;v.Bb(3),v.Wc("",i.docType," (",i.docs.length," Fichiers)"),v.Bb(2),v.sc("id",i.docType),v.Bb(2),v.tc("id","show",i.docType,""),v.Bb(1),v.rc("ngIf",i.docs.length>0),v.Bb(1),v.rc("ngIf",i.docs.length<=0)}}function kt(t,e){if(1&t&&(v.Ub(0,"div",2),v.Rc(1,wt,10,6,"div",33),v.Tb()),2&t){var n=v.kc();v.Bb(1),v.rc("ngForOf",null==n.service?null:n.service.clientDocs)}}function Ot(t,e){if(1&t&&(v.Ub(0,"mat-option",50),v.Tc(1),v.Tb()),2&t){var n=e.$implicit;v.rc("value",n.docType),v.Bb(1),v.Vc(" ",n.docType," ")}}function St(t,e){1&t&&(v.Ub(0,"mat-error"),v.Tc(1,"Selectionner un type"),v.Tb())}function Ct(t,e){if(1&t&&(v.Ub(0,"div",51),v.Pb(1,"img",52),v.Ub(2,"div",53),v.Tc(3),v.Tb(),v.Ub(4,"i",54),v.gc("click",(function(){return e.$implicit.remove()})),v.Tc(5,"cancel"),v.Tb(),v.Tb()),2&t){var n=e.$implicit;v.Bb(1),v.tc("src","../../../../assets/img/",null==n||null==n.file?null:n.file.name.split(".").pop(),".png",v.Kc),v.Bb(2),v.Uc(null==n||null==n.file?null:n.file.name.split(".")[0])}}var Bt,Pt,Rt=function(t){return{"another-file-over-class":t}},_t=function(t){return{width:t}},Mt=g.a.uri,Dt=[{path:"home",component:tt,data:{title:"Accueil"}},{path:"myservices",component:dt,data:{title:"Mes services"}},{path:"docs",component:(Bt=function(){function e(n,i,r,c,o,s,l,d){var b=this;t(this,e),this.sanitizer=n,this.mService=i,this.activatedRoute=r,this.authservice=c,this.fb=o,this.router=s,this.notificationService=l,this.snackBar=d,this.uploader=new bt.d({url:Mt,removeAfterUpload:!0,allowedFileType:["image","doc","pdf","xls","ppt"]}),this.hasBaseDropZoneOver=!1,this.hasAnotherDropZoneOver=!1,this.receiverId=[],this.notifLink={},this.uploader.onBeforeUploadItem=function(t){t.withCredentials=!1},this.uploader.onAfterAddingFile=function(t){b.filePreviewPath=b.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t._file))},this.docsForm=this.fb.group({docsList:new a.e("",a.u.required)})}return n(e,[{key:"ngOnInit",value:function(){this.getService()}},{key:"loadfiles",value:function(){var t=this;this.uploader.uploadAll(),this.uploader.onCompleteItem=function(e,n,i,r){var c={};c.docName=JSON.parse(n).originalname.substring(0,JSON.parse(n).originalname.indexOf(".")),c.docPath=JSON.parse(n).uploadname,t.service.clientDocs.forEach((function(e){e.docType==t.docsForm.controls.docsList.value&&e.docs.push(c)}))},this.uploader.onCompleteAll=function(){t.mService.updateService(t.id,t.service).subscribe((function(e){if(e.success){t.getService(),t.receiverId.push(t.service.clientConsult),t.service.tasks.forEach((function(e){t.receiverId.push(e.user)})),t.notifLink.url="/tasks",t.notifLink.params="id",t.notifLink.paramsValue=t.service._id;var n=t.authservice.getUserfromToken(),i=1==n.pm?n.name:n.fname+" "+n.lname;t.notification={sender:t.notificationService.getIdfromToken(),receiver:t.receiverId,title:t.service.name,message:i+" a envoy\xe9 de nouveaux documents",link:t.notifLink},t.notificationService.createNotification(JSON.stringify(t.notification)).subscribe((function(e){e.success&&(console.log(t.notification),console.log(e))})),t.snackBar.open("Documents envoy\xe9s au cabinet","X",{duration:6e3,verticalPosition:"top",panelClass:["custom-snack"]})}else console.log(e),t.snackBar.open("Une erreur s'est produite","X",{duration:6e3,verticalPosition:"top",panelClass:["custom-snack-error"]})}))}}},{key:"fileOverBase",value:function(t){this.hasBaseDropZoneOver=t}},{key:"fileOverAnother",value:function(t){this.hasAnotherDropZoneOver=t}},{key:"getService",value:function(){var t=this;this.activatedRoute.queryParams.subscribe((function(e){t.id=e.id,t.id?t.mService.getOneService(t.id).subscribe((function(e){t.service=e,console.log(t.service)}),(function(t){console.log(t)})):t.router.navigate(["/"])}))}},{key:"showActions",value:function(t){var e=document.getElementById(t);e.className=""!=e.className?"":"actions"}},{key:"deleteTask",value:function(t){var e=this;this.service.clientDocs=this.service.clientDocs.filter((function(e){return e._id!=t})),this.mService.updateService(this.id,this.service).subscribe((function(t){t.status?e.snackBar.open("Document Supprim\xe9","X",{duration:6e3,verticalPosition:"top",panelClass:["custom-snack"]}):(console.log(t),e.snackBar.open("Une erreur s'est produite","X",{duration:6e3,verticalPosition:"top",panelClass:["custom-snack-error"]}))}))}},{key:"downloadTask",value:function(t){var e=t.docPath;this.mService.downloadDoc(e).subscribe((function(n){return Object(ut.saveAs)(n,t.docName+"."+e.split(".").pop())}),(function(t){return console.error(t)}))}},{key:"rotateArrow",value:function(t,e){var n=document.getElementById(t);n.classList.contains("down")?n.classList.remove("down"):n.classList.add("down"),this.showActions(e)}}]),e}(),Bt.\u0275fac=function(t){return new(t||Bt)(v.Ob(mt.b),v.Ob(s.a),v.Ob(c.a),v.Ob(d.a),v.Ob(a.d),v.Ob(c.d),v.Ob(pt.a),v.Ob(ft.a))},Bt.\u0275cmp=v.Ib({type:Bt,selectors:[["app-client-docs"]],decls:48,vars:14,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-tabs","card-header-info"],[1,"nav-tabs-navigation"],[1,"nav-tabs-wrapper"],["data-tabs","tabs",1,"nav","nav-tabs","pull-left"],[1,"nav-item"],["mat-button","","href","#taches","data-toggle","tab",1,"nav-link","active"],[1,"material-icons"],[1,"ripple-container"],["mat-button","","href","#uploadfile","data-toggle","tab",1,"nav-link"],[1,"card-body"],[1,"tab-content"],["id","taches",1,"tab-pane","active"],[1,"files"],["class","row",4,"ngIf"],["id","uploadfile",1,"tab-pane"],[3,"formGroup","ngSubmit"],[1,"col-md-6"],["placeholder","Type de document","formControlName","docsList"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["ng2FileDrop","","accept","application/msword, application/vnd.ms-excel, \n                    application/vnd.ms-powerpoint, text/plain,\n                    application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document, \n                    application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, \n                    application/vnd.openxmlformats-officedocument.presentationml.slideshow, image/*",1,"well","my-drop-zone",2,"width","100%",3,"ngClass","uploader","fileOver"],[1,"dropfiles"],["type","file","ng2FileSelect","","multiple","","accept","application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint, text/plain,\n                    application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document, \n                    application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, \n                    application/vnd.openxmlformats-officedocument.presentationml.slideshow, image/*",1,"inputFile",2,"display","none","cursor","pointer",3,"uploader"],["fileInput",""],["class","col-md-2",4,"ngFor","ngForOf"],[1,"progress"],["role","progressbar",1,"progress-bar",3,"ngStyle"],["type","submit",1,"btn","btn-primary","btn-round","pull-right",3,"disabled"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"card-header-primary","custom-header",2,"margin-top","20px",3,"click"],[2,"margin-left","8px"],[2,"flex","1 1 auto"],[1,"material-icons","rotate",3,"id"],[1,"actions",3,"id"],["class","row","style","margin-top:20px",4,"ngIf"],["style","margin-top:20px","class","row",4,"ngIf"],[1,"row",2,"margin-top","20px"],["style","text-align: center;cursor: pointer","class","col-sm-2",4,"ngFor","ngForOf"],[1,"col-sm-2",2,"text-align","center","cursor","pointer"],[2,"width","80px","height","80px",3,"src","click"],[1,"actions",2,"cursor","pointer",3,"id"],[1,"material-icons","text-primary",2,"margin","auto","font-size","26px",3,"click"],[1,"form-row","text-center","col-md-12"],[1,"material-icons","demande",2,"font-size","700%"],[2,"width","100%"],[3,"value"],[1,"col-md-2"],[2,"width","80px","height","80px",3,"src"],[2,"text-align","left"],[1,"close","material-icons","text-danger",2,"font-size","26px","margin-right","25px",3,"click"]],template:function(t,e){1&t&&(v.Ub(0,"div",0),v.Ub(1,"div",1),v.Ub(2,"div",2),v.Ub(3,"div",3),v.Ub(4,"div",4),v.Ub(5,"div",5),v.Ub(6,"div",6),v.Ub(7,"div",7),v.Ub(8,"ul",8),v.Ub(9,"li",9),v.Ub(10,"a",10),v.Ub(11,"i",11),v.Tc(12,"list"),v.Tb(),v.Tc(13," documents envoy\xe9s "),v.Pb(14,"div",12),v.Tb(),v.Tb(),v.Ub(15,"li",9),v.Ub(16,"a",13),v.Ub(17,"i",11),v.Tc(18,"cloud_upload"),v.Tb(),v.Tc(19," Envoyer des documents "),v.Pb(20,"div",12),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Ub(21,"div",14),v.Ub(22,"div",15),v.Ub(23,"div",16),v.Ub(24,"div",17),v.Rc(25,kt,2,1,"div",18),v.Tb(),v.Tb(),v.Ub(26,"div",19),v.Ub(27,"form",20),v.gc("ngSubmit",(function(){return e.loadfiles()})),v.Ub(28,"mat-form-field",21),v.Ub(29,"mat-select",22),v.Rc(30,Ot,2,2,"mat-option",23),v.Tb(),v.Rc(31,St,2,0,"mat-error",24),v.Tb(),v.Pb(32,"br"),v.Ub(33,"label",25),v.gc("fileOver",(function(t){return e.fileOverAnother(t)})),v.Ub(34,"span",26),v.Tc(35,"Cliquer ou faire glisser les fichiers"),v.Tb(),v.Pb(36,"input",27,28),v.Tb(),v.Ub(38,"div",17),v.Ub(39,"div",2),v.Rc(40,Ct,6,2,"div",29),v.Tb(),v.Pb(41,"br"),v.Tc(42," Avancement d'upload: "),v.Ub(43,"div",30),v.Pb(44,"div",31),v.Tb(),v.Tb(),v.Pb(45,"br"),v.Ub(46,"button",32),v.Tc(47,"Envoyer"),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb()),2&t&&(v.Bb(25),v.rc("ngIf",(null==e.service?null:e.service.clientDocs.length)>0),v.Bb(2),v.rc("formGroup",e.docsForm),v.Bb(3),v.rc("ngForOf",null==e.service?null:e.service.clientDocs),v.Bb(1),v.rc("ngIf",e.docsForm.controls.docsList.invalid),v.Bb(2),v.rc("ngClass",v.wc(10,Rt,e.hasAnotherDropZoneOver))("uploader",e.uploader),v.Bb(3),v.rc("uploader",e.uploader),v.Bb(4),v.rc("ngForOf",e.uploader.queue),v.Bb(4),v.rc("ngStyle",v.wc(12,_t,e.uploader.progress+"%")),v.Bb(2),v.rc("disabled",0==e.uploader.queue.length))},directives:[gt.a,o.n,a.w,a.o,a.g,h.b,vt.a,a.n,a.f,o.m,bt.a,o.l,bt.b,o.o,ht.a,Tt.n,h.a],styles:[".my-drop-zone[_ngcontent-%COMP%]{border:3px dotted #d3d3d3;height:300px;border-radius:20px;text-align:center}.dropfiles[_ngcontent-%COMP%]{font-size:25px;text-anchor:middle;line-height:300px;color:#d3d3d3}.files[_ngcontent-%COMP%]{padding:10px}.nv-file-over[_ngcontent-%COMP%]{border:3px dotted red}.another-file-over-class[_ngcontent-%COMP%]{border:3px dotted green}.close[_ngcontent-%COMP%]{position:absolute;top:0;right:28px;cursor:pointer}.actions[_ngcontent-%COMP%]{display:none}.demande[_ngcontent-%COMP%]{width:100%;text-align:center}.demande.material-icons[_ngcontent-%COMP%]{font-size:1000%;color:grey}.rotate[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s linear}.rotate.down[_ngcontent-%COMP%]{transform:rotate(180deg)}.custom-header[_ngcontent-%COMP%]{background:#fff!important;color:grey!important;border-bottom:1px solid grey;font-weight:100px;box-shadow:none!important}"]}),Bt),data:{title:"Documents"}}],It=r("ZFy/"),Ft=((Pt=function e(){t(this,e)}).\u0275mod=v.Mb({type:Pt}),Pt.\u0275inj=v.Lb({factory:function(t){return new(t||Pt)},imports:[[o.c,bt.c,c.h.forChild(Dt),a.i,a.t,gt.c,Tt.t,h.d,T.c,vt.b,It.b,ht.b,et.b,ft.b,f.l,p.b,m.c]]}),Pt)}}])}();