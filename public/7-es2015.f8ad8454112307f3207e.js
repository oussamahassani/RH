(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{omSo:function(t,e,n){"use strict";n.r(e),n.d(e,"ClientLayoutModule",(function(){return Pt}));var i=n("iInd"),s=n("SVse"),r=n("s7LF"),c=n("NMxE"),o=n("8ZfG"),a=n("9ans"),l=n("VKgo"),d=n("rHPJ"),b=n("5QHs"),u=n("LUZP"),p=n("OaSA"),h=n("AytR"),m=n("8Y7J"),g=n("Q2Ze"),f=n("e6WT");function v(t,e){if(1&t&&(m.Ub(0,"div",11),m.Ub(1,"span",43),m.Tc(2,"Montant : "),m.Tb(),m.Tc(3),m.Tb()),2&t){const t=m.kc();m.Bb(3),m.Vc(" ",t.getAmount().all," ")}}function T(t,e){1&t&&(m.Ub(0,"i",7),m.Tc(1,"warning"),m.Tb())}function U(t,e){1&t&&(m.Ub(0,"i",7),m.Tc(1,"done"),m.Tb())}function y(t,e){if(1&t&&(m.Ub(0,"div",11),m.Ub(1,"span",44),m.Tc(2,"Montant : "),m.Tb(),m.Tc(3),m.Tb()),2&t){const t=m.kc();m.Bb(3),m.Vc(" ",t.getAmount().unpaid," ")}}function x(t,e){1&t&&(m.Ub(0,"th",45),m.Tc(1," N\xb0 "),m.Tb())}function w(t,e){if(1&t&&(m.Ub(0,"td",46),m.Tc(1),m.Tb()),2&t){const t=e.$implicit;m.Bb(1),m.Vc(" ",t.numero,"")}}function O(t,e){1&t&&(m.Ub(0,"th",45),m.Tc(1," Date de creation "),m.Tb())}function S(t,e){if(1&t&&(m.Ub(0,"td",46),m.Tc(1),m.lc(2,"date"),m.Tb()),2&t){const t=e.$implicit,n=m.kc();m.Bb(1),m.Vc(" ",m.nc(2,1,n.stringAsDate(t.createdAt),"dd/MM/yyyy HH:mm"),"")}}function k(t,e){1&t&&(m.Ub(0,"th",45),m.Tc(1," Montant Total HT "),m.Tb())}function C(t,e){if(1&t&&(m.Ub(0,"td",46),m.Tc(1),m.Tb()),2&t){const t=e.$implicit;m.Bb(1),m.Uc(t.amount)}}function B(t,e){1&t&&(m.Ub(0,"th",45),m.Tc(1," Status "),m.Tb())}function P(t,e){1&t&&(m.Ub(0,"span",49),m.Tc(1,"pay\xe9"),m.Tb())}function R(t,e){if(1&t){const t=m.Vb();m.Ub(0,"a",50),m.gc("click",(function(){m.Ic(t);const e=m.kc().$implicit;return m.kc().togglModal(e._id,e.numero)})),m.Tc(1,"non pay\xe9"),m.Tb()}}function _(t,e){if(1&t&&(m.Ub(0,"td",46),m.Rc(1,P,2,0,"span",47),m.Rc(2,R,2,0,"a",48),m.Tb()),2&t){const t=e.$implicit;m.Bb(1),m.rc("ngIf",t.paid_status),m.Bb(1),m.rc("ngIf",!t.paid_status)}}function M(t,e){1&t&&(m.Ub(0,"th",45),m.Tc(1," Action "),m.Tb())}function D(t,e){if(1&t){const t=m.Vb();m.Ub(0,"td",46),m.Ub(1,"div",51),m.Ub(2,"i",52),m.gc("click",(function(){m.Ic(t);const n=e.$implicit;return m.kc().print(n)})),m.Tc(3,"print"),m.Tb(),m.Tb(),m.Tb()}}function I(t,e){1&t&&m.Pb(0,"tr",53)}function F(t,e){1&t&&m.Pb(0,"tr",54)}function A(t,e){1&t&&m.Pb(0,"th",45)}function N(t,e){if(1&t&&m.Pb(0,"img",56),2&t){const t=m.kc().$implicit,e=m.kc();m.sc("src",e.uri+t.image,m.Kc)}}function L(t,e){if(1&t&&(m.Ub(0,"td",46),m.Rc(1,N,1,1,"img",55),m.Tb()),2&t){const t=e.$implicit;m.Bb(1),m.rc("ngIf",t.image)}}function V(t,e){1&t&&(m.Ub(0,"th",45),m.Tc(1," Nom et Pr\xe9nom "),m.Tb())}function E(t,e){if(1&t&&(m.Ub(0,"td",46),m.Tc(1),m.Tb()),2&t){const t=e.$implicit;m.Bb(1),m.Wc(" ",t.fname," ",t.lname," ")}}function z(t,e){1&t&&(m.Ub(0,"th",45),m.Tc(1," Email"),m.Tb())}function H(t,e){if(1&t&&(m.Ub(0,"td",46),m.Tc(1),m.Tb()),2&t){const t=e.$implicit;m.Bb(1),m.Uc(t.email)}}function Z(t,e){1&t&&(m.Ub(0,"th",45),m.Tc(1," Tel "),m.Tb())}function J(t,e){if(1&t&&(m.Ub(0,"td",46),m.Tc(1),m.Tb()),2&t){const t=e.$implicit;m.Bb(1),m.Vc(" ",t.tel," ")}}function q(t,e){1&t&&m.Pb(0,"tr",53)}function W(t,e){1&t&&m.Pb(0,"tr",54)}const j=function(){return["/myservices"]},K=function(t,e){return{"card-header-danger":t,"card-header-success":e,"card-header card-header-success card-header-icon":!0}},X=function(){return[5,10,20]};let G=(()=>{class t{constructor(t,e,n,i,s,r){this.employeeService=t,this.mService=e,this.authservice=n,this.adminService=i,this.cService=s,this.datepipe=r,this.uri=h.a.awsUrl,this.unpaidbills=0,this.serviceEncours=0,this.clientId=this.authservice.getIdfromToken(),this.displayedColumns=["n","dateCreation","montantTotal","status","action"],this.displayedColumnsUsers=["image","Nom","Email","Tel"],this.fetchBills(),this.fetchServices(),this.getclient()}ngOnInit(){}fetchServices(){this.vis=[],this.mService.getServicesByClientId(this.clientId).subscribe(t=>{this.services=t;for(let e=0;e<t.length;++e)"En cours"===t[e].finish_date&&this.serviceEncours++;this.employeeService.getUsers().subscribe(t=>{this.users=t,this.services.forEach(t=>{this.users.some(e=>e._id==t.clientConsult)&&(this.vis.some(e=>e._id==t.clientConsult)||this.vis.push(this.users.find(e=>e._id==t.clientConsult)))}),this.usersData=new p.k,this.usersData.data=this.vis,this.usersData.paginator=this.paginatorUsers,this.usersData.sort=this.sortUsers},t=>{console.log(t)})},t=>{console.log(t)})}applyFilter(t){this.MyDataSource.filter=t.trim().toLowerCase()}applyFilterUsers(t){this.usersData.filter=t.trim().toLowerCase()}getclient(){this.adminService.getOneClient(this.clientId).subscribe(t=>{this.client=t,this.getConfig()},t=>{console.log(t)})}fetchBills(){this.employeeService.getbillForClient(this.clientId).subscribe(t=>{this.bills=t,console.log(this.bills);let e=0;for(let n=0;n<t.length;++n)!0===t[n].paid_status&&e++;this.unpaidbills=t.length-e,this.MyDataSource=new p.k,this.MyDataSource.data=t,this.MyDataSource.paginator=this.paginator,this.MyDataSource.sort=this.sort},t=>{console.log(t)})}getAmount(){let t=0,e=0;return this.bills.forEach(n=>{0==n.paid_status&&(e+=Number(n.amount.replace(/\s/g,""))),t+=Number(n.amount.replace(/\s/g,""))}),{all:Number(t.toString().replace(/\s/g,"")).toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 "),unpaid:Number(e.toString().replace(/\s/g,"")).toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")}}stringAsDate(t){return new Date(t)}getConfig(){this.cService.getConfig().subscribe(t=>{t.length>0&&(this.config=t[0].structure.find(t=>t._id==this.client.structure))},t=>{console.log(t)})}print(t){let e,n,i=Number(t.amount.replace(/\s/g,""))+t.vat+t.rs+t.debour+Number("0.60".replace(/\s/g,""));console.log(Number(t.amount.replace(/\s/g,""))),console.log(t.rs),console.log(t.debour),i=Number(i.toString().replace(/\s/g,"")).toFixed(3).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ");let s=this.services.find(e=>e._id==t.service);1==t.type&&(s.name="Avance "+s.name,s.montant=t.amount);let r=this.datepipe.transform(this.stringAsDate(t.createdAt),"yyyy-MM-dd HH:mm");e='<div class="container printable" id="bill">\n    <div class="row">\n        <div class="col-md-12">\n    \t\t<div class="invoice-title">\n\t\t\t\t<h3>'+r+'</h3>\n\t\t\t\t<h3 class="pull-right">Note d\'honoraires N\xb0 '+t.numero+'</h3>\n    \t\t</div>\n    \t\t<hr>\n    \t\t<div class="row">\n    \t\t\t<div class="col-md-6">\n    \t\t\t\t<address>\n        \t\t\t<strong>Factur\xe9 de:</strong><br>'+this.config.name+"<br>"+this.config.mat_fis+"<br>"+this.config.email+"<br>"+this.config.adress+'</address>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-md-6 float-right">\n\t\t\t\t\t\t\t <div class="logo float-right">\n\t\t\t\t\t\t\t\t\t<a href="javascript:;" class="simple-text">\n\t\t\t\t\t\t\t\t\t\t\t<div class="logo-img">\n\t\t\t\t\t\t\t\t\t\t\t\t<img width="90px" height="auto" src="'+this.uri+this.config.image+'"/> \n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t\t<address>\n              <strong>Factur\xe9 \xe0:</strong><br>',e+=this.client.name?"<div>"+this.client.name+"</div>":"<div>"+this.client.fname+" "+this.client.lname+"</div>",e+="<div>"+this.client.mat_fis+"</div>\n                                    "+this.client.adress+"<br>\n                                    "+this.client.tel+"<br>\n                                    "+this.client.email+'</address>\n\t\t\t\t\t\t</div>\n    \t\t</div>\n    \t</div>\n    </div>\n    \n    <div class="row">\n    \t<div class="col-md-12">\n    \t\t<div class="panel panel-default">\n          <div class="panel-heading">',e+=0==t.type?"<h3 class='panel-title'><strong><strong>R\xe9sum\xe9 du note d'honoraires</strong></h3>":"<h3 class='panel-title'><strong><strong>Avance sur note d'honoraires</strong></h3>",e+='</div>\n    \t\t\t<div class="panel-body">\n    \t\t\t\t<div class="table-responsive">\n    \t\t\t\t\t<table class="table table-condensed">\n    \t\t\t\t\t\t<thead>\n                                <tr>\n        \t\t\t\t\t\t\t<td><strong>Libell\xe9</strong></td>\n        \t\t\t\t\t\t\t<td class="text-center"><strong></strong></td>\n        \t\t\t\t\t\t\t<td class="text-center"><strong></strong></td>\n        \t\t\t\t\t\t\t<td class="text-right"><strong>Prix HT</strong></td>\n        \t\t\t\t\t\t\t<td class="text-center"><strong></strong></td>\n                                </tr>\n    \t\t\t\t\t\t</thead>\n    \t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t<ng-container >\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>'+s.name+'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="text-center">\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="text-center"></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="text-right">'+s.montant+'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="text-right"></td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\t\n                  </ng-container>',this.bills&&0==t.type&&this.bills.forEach(t=>{1==t.type&&(e+="<tr>\n                      <td>Avance sur note d'honoraires : "+t.numero+'</td>\n                      <td class="text-center"></td>\n                      <td class="text-center"> <span class="noprint">'+this.datepipe.transform(this.stringAsDate(t.createdAt),"yyyy-MM-dd")+'</span></td>\n                      <td class="text-right">-'+t.amount+'</td>\n                      <td class="text-right"></td>\n                    </tr>')}),t.debours.length>0&&(e+='<tr>\n                    <td><strong>D\xe9bours</strong></td>\n                    <td class="text-center"></td>\n                    <td class="text-center"></td>\n                    <td class="text-right"></td>\n                    <td class="text-right"></td>\n                  </tr>',t.debours.forEach(t=>{e+="<tr>\n                      <td>"+t.libelle+'</td>\n                      <td class="text-center"></td>\n                      <td class="text-center"></td>\n                      <td class="text-right">'+t.montant+'</td>\n                      <td class="text-right"></td>\n                    </tr>'})),e+='<tr>\n    \t\t\t\t\t\t\t\t<td style="border-top: 2px solid;" class="thick-line"></td>\n    \t\t\t\t\t\t\t\t<td style="border-top: 2px solid;" class="thick-line"></td>\n    \t\t\t\t\t\t\t\t<td style="border-top: 2px solid;" class="thick-line text-center"></td>\n    \t\t\t\t\t\t\t\t<td style="border-top: 2px solid;" class="thick-line text-right"></td>\n\t\t\t\t\t\t\t\t  </tr>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t   \t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style="border: none;"></td>\t<td style="border: none;"></td>\n\t\t\t\t\t\t\t\t\t\t<td class="no-line text-center"><strong>Total HT</strong></td>\n\t\t\t\t\t\t\t\t\t\t<td class="no-line text-right">'+t.amount+'</td>\n\t\t\t\t\t\t\t\t\t</tr>\n    \t\t\t\t\t\t\t<tr>\n                  <td style="border: none;"></td>\t<td style="border: none;"></td>\n                  <td class="no-line text-center"><strong>TVA</strong></td>\n    \t\t\t\t\t\t\t<td class="no-line text-right">13%</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td style="border: none;"></td>\t<td style="border: none;"></td>\n\t\t\t\t\t\t\t\t\t<td class="no-line text-center"><strong>Total TVA</strong></td>\n    \t\t\t\t\t\t\t\t<td class="no-line text-right">'+Number(t.vat.toString().replace(/\s/g,"")).toFixed(3).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")+'</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td style="border:none;"></td>\t<td style="border: none;"></td>\n\t\t\t\t\t\t\t\t\t<td class="no-line text-center"><strong>Timbre fiscal</strong></td>\n    \t\t\t\t\t\t\t\t<td class="no-line text-right">0.600</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td style="border: none;"></td>\t<td style="border: none;"></td>\n\t\t\t\t\t\t\t\t\t\t<td class="no-line text-center"><strong>R/S</strong></td>\n\t\t\t\t\t\t\t\t\t\t<td class="no-line text-right">'+Number(t.rs.toString().replace(/\s/g,"")).toFixed(3).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")+'</td>\n\t\t\t\t\t\t\t\t\t</tr>\n    \t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td style="border: none;"></td>\t<td style="border: none;"></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class="no-line text-center"><strong>D\xe9bours</strong></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class="no-line text-right">'+Number(t.debour.toString().replace(/\s/g,"")).toFixed(3).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")+'</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t<tr>\n    \t\t\t\t\t\t\t\t<td style="border: none;"></td>\n    \t\t\t\t\t\t\t\t<td style="border: none;"></td>\n    \t\t\t\t\t\t\t\t<td class="no-line text-center"><strong>Total</strong></td>\n    \t\t\t\t\t\t\t\t<td class="no-line text-right">'+i+"</td>\n    \t\t\t\t\t\t\t</tr>\n    \t\t\t\t\t\t</tbody>\n    \t\t\t\t\t</table>\n    \t\t\t\t</div>\n    \t\t\t</div>\n    \t\t</div>\n    \t</div>\n    </div>\n</div>",n=window.open("","_blank","top=0,left=50%,height="+screen.height+",width="+screen.width),n.document.open(),n.document.write(`<html>\n     ${$("head").clone().html()}\n    <body onload="window.print();window.close()">${e}</body></html>`),n.document.close()}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(o.a),m.Ob(c.a),m.Ob(a.a),m.Ob(l.a),m.Ob(d.a),m.Ob(s.e))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-home"]],viewQuery:function(t,e){var n;1&t&&(m.Nc(b.a,!0),m.Nc(u.a,!0),m.Nc(b.a,!0),m.Nc(u.a,!0)),2&t&&(m.Ec(n=m.hc())&&(e.paginator=n.first),m.Ec(n=m.hc())&&(e.sort=n.first),m.Ec(n=m.hc())&&(e.paginatorUsers=n.first),m.Ec(n=m.hc())&&(e.sortUsers=n.first))},decls:113,vars:26,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-lg-3","col-md-6","col-sm-6"],[1,"card","card-stats"],[1,"card-header","card-header-primary","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-category"],[1,"card-title"],[1,"card-footer"],[1,"stats"],[1,"material-icons","text-primary"],[3,"routerLink"],[1,"card-header","card-header-warning","card-header-icon"],[1,"material-icons","text-warning"],[1,"text-warning",3,"routerLink"],[1,"card-header","card-header-info","card-header-icon"],["class","stats",4,"ngIf"],[3,"ngClass"],["class","material-icons",4,"ngIf"],[1,"col-lg-6","col-md-12"],[1,"card"],[1,"card-header","card-header-warning"],[1,"card-body","table-responsive"],["matInput","","placeholder","Filter",3,"keyup"],[1,"table-responsive"],["mat-table","","multiTemplateDataRows","","matSort","",1,"table","borderless",3,"dataSource"],["matColumnDef","n"],["mat-header-cell","","mat-sort-header","","class","header",4,"matHeaderCellDef"],["class","pt-3 pb-3","mat-cell","",4,"matCellDef"],["matColumnDef","dateCreation"],["matColumnDef","montantTotal"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],[1,"card-header","card-header-primary"],["matColumnDef","image"],["matColumnDef","Nom"],["matColumnDef","Email"],["matColumnDef","Tel"],[1,"text-info"],[1,"text-danger"],["mat-header-cell","","mat-sort-header","",1,"header"],["mat-cell","",1,"pt-3","pb-3"],["class","badge badge-success",4,"ngIf"],["data-toggle","modal","data-target","#myModal","class","enzel badge badge-warning",3,"click",4,"ngIf"],[1,"badge","badge-success"],["data-toggle","modal","data-target","#myModal",1,"enzel","badge","badge-warning",3,"click"],["role","group","aria-label","Basic example",1,"btn-group"],[1,"enzel","text-primary","material-icons","mr-2",3,"click"],["mat-header-row",""],["mat-row",""],["class","img","style","width:50px;height:50px",3,"src",4,"ngIf"],[1,"img",2,"width","50px","height","50px",3,"src"]],template:function(t,e){1&t&&(m.Ub(0,"div",0),m.Ub(1,"div",1),m.Ub(2,"div",2),m.Ub(3,"div",3),m.Ub(4,"div",4),m.Ub(5,"div",5),m.Ub(6,"div",6),m.Ub(7,"i",7),m.Tc(8,"class"),m.Tb(),m.Tb(),m.Ub(9,"p",8),m.Tc(10,"Mes Services"),m.Tb(),m.Ub(11,"h3",9),m.Tc(12),m.Tb(),m.Tb(),m.Ub(13,"div",10),m.Ub(14,"div",11),m.Ub(15,"i",12),m.Tc(16,"remove_red_eye"),m.Tb(),m.Ub(17,"a",13),m.Tc(18,"Voir tout..."),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(19,"div",3),m.Ub(20,"div",4),m.Ub(21,"div",14),m.Ub(22,"div",6),m.Ub(23,"i",7),m.Tc(24,"list"),m.Tb(),m.Tb(),m.Ub(25,"p",8),m.Tc(26,"Services en cours"),m.Tb(),m.Ub(27,"h3",9),m.Tc(28),m.Tb(),m.Tb(),m.Ub(29,"div",10),m.Ub(30,"div",11),m.Ub(31,"i",15),m.Tc(32,"remove_red_eye"),m.Tb(),m.Ub(33,"a",16),m.Tc(34,"Voir tout..."),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(35,"div",3),m.Ub(36,"div",4),m.Ub(37,"div",17),m.Ub(38,"div",6),m.Ub(39,"i",7),m.Tc(40,"note"),m.Tb(),m.Tb(),m.Ub(41,"p",8),m.Tc(42,"Mes Factures"),m.Tb(),m.Ub(43,"h3",9),m.Tc(44),m.Tb(),m.Tb(),m.Ub(45,"div",10),m.Rc(46,v,4,1,"div",18),m.Tb(),m.Tb(),m.Tb(),m.Ub(47,"div",3),m.Ub(48,"div",4),m.Ub(49,"div",19),m.Ub(50,"div",6),m.Rc(51,T,2,0,"i",20),m.Rc(52,U,2,0,"i",20),m.Tb(),m.Ub(53,"p",8),m.Tc(54,"Factures non pay\xe9e"),m.Tb(),m.Ub(55,"h3",9),m.Tc(56),m.Tb(),m.Tb(),m.Ub(57,"div",10),m.Rc(58,y,4,1,"div",18),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(59,"div",2),m.Ub(60,"div",21),m.Ub(61,"div",22),m.Ub(62,"div",23),m.Ub(63,"h4",9),m.Tc(64,"Mes Factures"),m.Tb(),m.Tb(),m.Ub(65,"div",24),m.Ub(66,"mat-form-field"),m.Ub(67,"input",25),m.gc("keyup",(function(t){return e.applyFilter(t.target.value)})),m.Tb(),m.Tb(),m.Ub(68,"div",26),m.Ub(69,"table",27),m.Sb(70,28),m.Rc(71,x,2,0,"th",29),m.Rc(72,w,2,1,"td",30),m.Rb(),m.Sb(73,31),m.Rc(74,O,2,0,"th",29),m.Rc(75,S,3,4,"td",30),m.Rb(),m.Sb(76,32),m.Rc(77,k,2,0,"th",29),m.Rc(78,C,2,1,"td",30),m.Rb(),m.Sb(79,33),m.Rc(80,B,2,0,"th",29),m.Rc(81,_,3,2,"td",30),m.Rb(),m.Sb(82,34),m.Rc(83,M,2,0,"th",29),m.Rc(84,D,4,0,"td",30),m.Rb(),m.Rc(85,I,1,0,"tr",35),m.Rc(86,F,1,0,"tr",36),m.Tb(),m.Pb(87,"mat-paginator",37),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(88,"div",21),m.Ub(89,"div",22),m.Ub(90,"div",38),m.Ub(91,"h4",9),m.Tc(92,"Vis \xe0 vis"),m.Tb(),m.Tb(),m.Ub(93,"div",24),m.Ub(94,"mat-form-field"),m.Ub(95,"input",25),m.gc("keyup",(function(t){return e.applyFilterUsers(t.target.value)})),m.Tb(),m.Tb(),m.Ub(96,"div",26),m.Ub(97,"table",27),m.Sb(98,39),m.Rc(99,A,1,0,"th",29),m.Rc(100,L,2,1,"td",30),m.Rb(),m.Sb(101,40),m.Rc(102,V,2,0,"th",29),m.Rc(103,E,2,2,"td",30),m.Rb(),m.Sb(104,41),m.Rc(105,z,2,0,"th",29),m.Rc(106,H,2,1,"td",30),m.Rb(),m.Sb(107,42),m.Rc(108,Z,2,0,"th",29),m.Rc(109,J,2,1,"td",30),m.Rb(),m.Rc(110,q,1,0,"tr",35),m.Rc(111,W,1,0,"tr",36),m.Tb(),m.Pb(112,"mat-paginator",37),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb()),2&t&&(m.Bb(12),m.Vc("",null==e.services?null:e.services.length," "),m.Bb(5),m.rc("routerLink",m.vc(19,j)),m.Bb(11),m.Uc(e.serviceEncours),m.Bb(5),m.rc("routerLink",m.vc(20,j)),m.Bb(11),m.Uc(null==e.bills?null:e.bills.length),m.Bb(2),m.rc("ngIf",e.bills),m.Bb(3),m.rc("ngClass",m.xc(21,K,e.unpaidbills>0,e.unpaidbills<=0)),m.Bb(2),m.rc("ngIf",e.unpaidbills>0),m.Bb(1),m.rc("ngIf",e.unpaidbills<=0),m.Bb(4),m.Uc(e.unpaidbills),m.Bb(2),m.rc("ngIf",e.bills),m.Bb(11),m.rc("dataSource",e.MyDataSource),m.Bb(16),m.rc("matHeaderRowDef",e.displayedColumns),m.Bb(1),m.rc("matRowDefColumns",e.displayedColumns),m.Bb(1),m.rc("pageSizeOptions",m.vc(24,X)),m.Bb(10),m.rc("dataSource",e.usersData),m.Bb(13),m.rc("matHeaderRowDef",e.displayedColumnsUsers),m.Bb(1),m.rc("matRowDefColumns",e.displayedColumnsUsers),m.Bb(1),m.rc("pageSizeOptions",m.vc(25,X)))},directives:[i.g,s.n,s.l,g.b,f.b,p.j,u.a,p.c,p.e,p.b,p.g,p.i,b.a,p.d,u.b,p.a,p.f,p.h],pipes:[s.e],styles:[".header[_ngcontent-%COMP%]{color:#000;font-size:.95rem;font-weight:500;border-top-width:0;border-bottom-width:1px}.enzel[_ngcontent-%COMP%]{cursor:pointer}.invoice-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoice-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:inline-block}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-top:none}.table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-bottom:none}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .thick-line[_ngcontent-%COMP%]{border-top:2px solid}.noprint[_ngcontent-%COMP%]{display:none}.printOnly[_ngcontent-%COMP%]{display:inline;display:none}.montant[_ngcontent-%COMP%]{text-align:center;width:80px;display:inline;border:0}  .cdk-overlay-container{position:fixed;z-index:1060}"]}),t})();var Q=n("BTe0");function Y(t,e){if(1&t&&(m.Ub(0,"td"),m.Tc(1),m.Tb()),2&t){const t=m.kc().$implicit;m.Bb(1),m.Wc(" ",t.fname," ",t.lname," ")}}function tt(t,e){if(1&t&&(m.Sb(0),m.Rc(1,Y,2,2,"td",33),m.Rb()),2&t){const t=e.$implicit,n=m.kc().$implicit;m.Bb(1),m.rc("ngIf",n.clientConsult==t._id)}}const et=function(){return["/docs"]},nt=function(t){return{id:t}};function it(t,e){if(1&t){const t=m.Vb();m.Ub(0,"tbody",28),m.gc("click",(function(){m.Ic(t);const n=e.$implicit;return m.kc().checkSuper(n.clientConsult)})),m.Ub(1,"td"),m.Tc(2),m.Tb(),m.Rc(3,tt,2,1,"ng-container",29),m.Ub(4,"td"),m.Ub(5,"span"),m.Tc(6),m.Tb(),m.Pb(7,"mat-progress-bar",30),m.Tb(),m.Ub(8,"td"),m.Tc(9),m.lc(10,"date"),m.Tb(),m.Ub(11,"td"),m.Ub(12,"span",31),m.Tc(13),m.Tb(),m.Tb(),m.Ub(14,"td"),m.Ub(15,"a",32),m.Tc(16,"visibility"),m.Tb(),m.Tb(),m.Tb()}if(2&t){const t=e.$implicit,n=m.kc();m.Bb(2),m.Vc(" ",t.name," "),m.Bb(1),m.rc("ngForOf",n.users),m.Bb(3),m.Vc("",n.avenceService(t.tasks)," %"),m.Bb(1),m.sc("value",n.avenceService(t.tasks)),m.Bb(2),m.Vc(" ",m.nc(10,8,n.stringAsDate(t.createdAt),"dd/MM/yyyy")," "),m.Bb(4),m.Vc(" ",t.finish_date,""),m.Bb(2),m.rc("routerLink",m.vc(11,et))("queryParams",m.wc(12,nt,t._id))}}function st(t,e){if(1&t&&m.Pb(0,"img",34),2&t){const t=m.kc();m.sc("src",null==t.user?null:t.user.image,m.Kc)}}function rt(t,e){if(1&t&&(m.Ub(0,"h6",35),m.Tc(1),m.Tb()),2&t){const t=e.$implicit;m.Bb(1),m.Uc(t.groupename)}}let ct=(()=>{class t{constructor(t,e){this.employeeService=t,this.mService=e,this.uri=h.a.baseUrl,this.awsUrl=h.a.awsUrl}ngOnInit(){this.fetchServices(),this.fetchUsers()}fetchServices(){this.mService.getServices().subscribe(t=>{this.services=t.filter(t=>t.client==this.employeeService.getIdfromToken()),this.superId=this.services[0].clientConsult,this.employeeService.getOneUser(this.superId).subscribe(t=>{this.user=t,this.user.image=this.awsUrl+t.image,console.log(this.user)},t=>{console.log(t)})},t=>{console.log(t)})}checkSuper(t){this.employeeService.getOneUser(t).subscribe(t=>{this.user=t,this.user.image=this.awsUrl+t.image},t=>{console.log(t)})}fetchUsers(){this.employeeService.getUsers().subscribe(t=>{this.users=t},t=>{console.log(t)})}avenceService(t){let e=[],n=[];return t.forEach(t=>{"completed"==t.status&&e.push(t),n.push(t)}),e.length/n.length*100}stringAsDate(t){return new Date(t)}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(o.a),m.Ob(c.a))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-messervices"]],decls:54,vars:7,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header","card-header-primary"],[1,"card-title"],[1,"card-category"],[1,"card-body","table-responsive"],[1,"table","table-hover"],[1,"text-primary"],["width","30%"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","card-profile"],[1,"card-avatar"],["class","img","style","width:130px;height:130px",3,"src",4,"ngIf"],[1,"card-body"],[1,"card-title",2,"text-transform","uppercase","letter-spacing","1px"],["class","card-category text-gray",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"card","card-chart"],[1,"card-header","card-header-info",2,"padding","2px","border-radius","20px"],[1,"material-icons"],[1,"card-body",2,"text-align","left"],[1,"card-category",2,"font-size","17px"],[1,"card-footer"],[1,"stats"],[2,"cursor","pointer",3,"click"],[4,"ngFor","ngForOf"],["mode","determinate",3,"value"],[1,"badge","badge-warning"],[1,"text-primary","material-icons",3,"routerLink","queryParams"],[4,"ngIf"],[1,"img",2,"width","130px","height","130px",3,"src"],[1,"card-category","text-gray"]],template:function(t,e){1&t&&(m.Ub(0,"div",0),m.Ub(1,"div",1),m.Ub(2,"div",2),m.Ub(3,"div",3),m.Ub(4,"div",4),m.Ub(5,"div",5),m.Ub(6,"h4",6),m.Tc(7,"Services"),m.Tb(),m.Ub(8,"p",7),m.Tc(9,"Tout mes services:"),m.Tb(),m.Tb(),m.Ub(10,"div",8),m.Ub(11,"table",9),m.Ub(12,"thead",10),m.Ub(13,"th"),m.Tc(14,"Service"),m.Tb(),m.Ub(15,"th"),m.Tc(16,"Superviseur"),m.Tb(),m.Ub(17,"th",11),m.Tc(18,"Avancement"),m.Tb(),m.Ub(19,"th"),m.Tc(20,"Creation"),m.Tb(),m.Ub(21,"th"),m.Tc(22,"Etat"),m.Tb(),m.Tb(),m.Rc(23,it,17,14,"tbody",12),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(24,"div",13),m.Ub(25,"div",14),m.Ub(26,"div",15),m.Rc(27,st,1,1,"img",16),m.Tb(),m.Ub(28,"div",17),m.Ub(29,"h4",18),m.Tc(30),m.Tb(),m.Rc(31,rt,2,1,"h6",19),m.Pb(32,"hr"),m.Ub(33,"div",20),m.Ub(34,"div",21),m.Ub(35,"div",22),m.Ub(36,"h4",6),m.Ub(37,"i",23),m.Tc(38,"person"),m.Tb(),m.Tb(),m.Tb(),m.Pb(39,"br"),m.Ub(40,"div",24),m.Ub(41,"h4",25),m.Ub(42,"i",23),m.Tc(43,"email"),m.Tb(),m.Tc(44),m.Tb(),m.Pb(45,"hr"),m.Ub(46,"h4",25),m.Ub(47,"i",23),m.Tc(48,"call"),m.Tb(),m.Tc(49),m.Tb(),m.Tb(),m.Pb(50,"br"),m.Ub(51,"div",26),m.Ub(52,"div",27),m.Tc(53," Le superviseur de ce service pri\xe8re de le contacter au cas de besoin "),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb()),2&t&&(m.Bb(23),m.rc("ngForOf",e.services),m.Bb(4),m.rc("ngIf",null==e.user?null:e.user.image),m.Bb(3),m.Wc("",null==e.user?null:e.user.fname," ",null==e.user?null:e.user.lname,""),m.Bb(1),m.rc("ngForOf",null==e.user?null:e.user.permissions),m.Bb(13),m.Vc("\xa0\xa0",null==e.user?null:e.user.email,""),m.Bb(5),m.Vc("\xa0\xa0",null==e.user?null:e.user.tel,""))},directives:[s.m,s.n,Q.a,i.g],pipes:[s.e],styles:[""]}),t})();var ot=n("pYyI"),at=n("Iab2"),lt=n("nak+"),dt=n("cUpR"),bt=n("zHaW"),ut=n("Dxy4"),pt=n("ZTz/"),ht=n("l0rg"),mt=n("UhP/");function gt(t,e){if(1&t){const t=m.Vb();m.Ub(0,"div",43),m.Ub(1,"img",44),m.gc("click",(function(){m.Ic(t);const n=e.$implicit;return m.kc(4).showActions(n._id)})),m.Tb(),m.Ub(2,"div"),m.Tc(3),m.Tb(),m.Ub(4,"div",45),m.Ub(5,"i",46),m.gc("click",(function(){m.Ic(t);const n=e.$implicit;return m.kc(4).downloadTask(n)})),m.Tc(6,"cloud_download"),m.Tb(),m.Tb(),m.Tb()}if(2&t){const t=e.$implicit;m.Bb(1),m.tc("src","../../../../assets/img/",t.docPath.split(".").pop(),".png",m.Kc),m.Bb(2),m.Uc(t.docName),m.Bb(1),m.sc("id",null==t?null:t._id)}}function ft(t,e){if(1&t&&(m.Ub(0,"div",41),m.Rc(1,gt,7,3,"div",42),m.Tb()),2&t){const t=m.kc().$implicit;m.Bb(1),m.rc("ngForOf",t.docs)}}function vt(t,e){1&t&&(m.Ub(0,"div",41),m.Ub(1,"div",47),m.Ub(2,"i",48),m.Tc(3,"description"),m.Tb(),m.Ub(4,"label",49),m.Tc(5,"Aucun fichier trouv\xe9"),m.Tb(),m.Tb(),m.Tb())}function Tt(t,e){if(1&t){const t=m.Vb();m.Ub(0,"div",3),m.Ub(1,"mat-toolbar",34),m.gc("click",(function(){m.Ic(t);const n=e.$implicit;return m.kc(2).rotateArrow(n.docType,"show"+n.docType)})),m.Ub(2,"span",35),m.Tc(3),m.Tb(),m.Pb(4,"span",36),m.Ub(5,"i",37),m.Tc(6,"expand_more"),m.Tb(),m.Tb(),m.Ub(7,"div",38),m.Rc(8,ft,2,1,"div",39),m.Rc(9,vt,6,0,"div",40),m.Tb(),m.Tb()}if(2&t){const t=e.$implicit;m.Bb(3),m.Wc("",t.docType," (",t.docs.length," Fichiers)"),m.Bb(2),m.sc("id",t.docType),m.Bb(2),m.tc("id","show",t.docType,""),m.Bb(1),m.rc("ngIf",t.docs.length>0),m.Bb(1),m.rc("ngIf",t.docs.length<=0)}}function Ut(t,e){if(1&t&&(m.Ub(0,"div",2),m.Rc(1,Tt,10,6,"div",33),m.Tb()),2&t){const t=m.kc();m.Bb(1),m.rc("ngForOf",null==t.service?null:t.service.clientDocs)}}function yt(t,e){if(1&t&&(m.Ub(0,"mat-option",50),m.Tc(1),m.Tb()),2&t){const t=e.$implicit;m.rc("value",t.docType),m.Bb(1),m.Vc(" ",t.docType," ")}}function xt(t,e){1&t&&(m.Ub(0,"mat-error"),m.Tc(1,"Selectionner un type"),m.Tb())}function wt(t,e){if(1&t&&(m.Ub(0,"div",51),m.Pb(1,"img",52),m.Ub(2,"div",53),m.Tc(3),m.Tb(),m.Ub(4,"i",54),m.gc("click",(function(){return e.$implicit.remove()})),m.Tc(5,"cancel"),m.Tb(),m.Tb()),2&t){const t=e.$implicit;m.Bb(1),m.tc("src","../../../../assets/img/",null==t||null==t.file?null:t.file.name.split(".").pop(),".png",m.Kc),m.Bb(2),m.Uc(null==t||null==t.file?null:t.file.name.split(".")[0])}}const Ot=function(t){return{"another-file-over-class":t}},St=function(t){return{width:t}},kt=h.a.uri,Ct=[{path:"home",component:G,data:{title:"Accueil"}},{path:"myservices",component:ct,data:{title:"Mes services"}},{path:"docs",component:(()=>{class t{constructor(t,e,n,i,s,c,o,a){this.sanitizer=t,this.mService=e,this.activatedRoute=n,this.authservice=i,this.fb=s,this.router=c,this.notificationService=o,this.snackBar=a,this.uploader=new ot.d({url:kt,removeAfterUpload:!0,allowedFileType:["image","doc","pdf","xls","ppt"]}),this.hasBaseDropZoneOver=!1,this.hasAnotherDropZoneOver=!1,this.receiverId=[],this.notifLink={},this.uploader.onBeforeUploadItem=t=>{t.withCredentials=!1},this.uploader.onAfterAddingFile=t=>{this.filePreviewPath=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t._file))},this.docsForm=this.fb.group({docsList:new r.e("",r.u.required)})}ngOnInit(){this.getService()}loadfiles(){this.uploader.uploadAll(),this.uploader.onCompleteItem=(t,e,n,i)=>{let s={};s.docName=JSON.parse(e).originalname.substring(0,JSON.parse(e).originalname.indexOf(".")),s.docPath=JSON.parse(e).uploadname,this.service.clientDocs.forEach(t=>{t.docType==this.docsForm.controls.docsList.value&&t.docs.push(s)})},this.uploader.onCompleteAll=()=>{this.mService.updateService(this.id,this.service).subscribe(t=>{if(t.success){this.getService(),this.receiverId.push(this.service.clientConsult),this.service.tasks.forEach(t=>{this.receiverId.push(t.user)}),this.notifLink.url="/tasks",this.notifLink.params="id",this.notifLink.paramsValue=this.service._id;let t=this.authservice.getUserfromToken(),e=1==t.pm?t.name:t.fname+" "+t.lname;this.notification={sender:this.notificationService.getIdfromToken(),receiver:this.receiverId,title:this.service.name,message:e+" a envoy\xe9 de nouveaux documents",link:this.notifLink},this.notificationService.createNotification(JSON.stringify(this.notification)).subscribe(t=>{t.success&&(console.log(this.notification),console.log(t))}),this.snackBar.open("Documents envoy\xe9s au cabinet","X",{duration:6e3,verticalPosition:"top",panelClass:["custom-snack"]})}else console.log(t),this.snackBar.open("Une erreur s'est produite","X",{duration:6e3,verticalPosition:"top",panelClass:["custom-snack-error"]})})}}fileOverBase(t){this.hasBaseDropZoneOver=t}fileOverAnother(t){this.hasAnotherDropZoneOver=t}getService(){this.activatedRoute.queryParams.subscribe(t=>{this.id=t.id,this.id?this.mService.getOneService(this.id).subscribe(t=>{this.service=t,console.log(this.service)},t=>{console.log(t)}):this.router.navigate(["/"])})}showActions(t){let e=document.getElementById(t);e.className=""!=e.className?"":"actions"}deleteTask(t){this.service.clientDocs=this.service.clientDocs.filter(e=>e._id!=t),this.mService.updateService(this.id,this.service).subscribe(t=>{t.status?this.snackBar.open("Document Supprim\xe9","X",{duration:6e3,verticalPosition:"top",panelClass:["custom-snack"]}):(console.log(t),this.snackBar.open("Une erreur s'est produite","X",{duration:6e3,verticalPosition:"top",panelClass:["custom-snack-error"]}))})}downloadTask(t){var e=t.docPath;this.mService.downloadDoc(e).subscribe(n=>Object(at.saveAs)(n,t.docName+"."+e.split(".").pop()),t=>console.error(t))}rotateArrow(t,e){let n=document.getElementById(t);n.classList.contains("down")?n.classList.remove("down"):n.classList.add("down"),this.showActions(e)}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(dt.b),m.Ob(c.a),m.Ob(i.a),m.Ob(a.a),m.Ob(r.d),m.Ob(i.d),m.Ob(lt.a),m.Ob(bt.a))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-client-docs"]],decls:48,vars:14,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-tabs","card-header-info"],[1,"nav-tabs-navigation"],[1,"nav-tabs-wrapper"],["data-tabs","tabs",1,"nav","nav-tabs","pull-left"],[1,"nav-item"],["mat-button","","href","#taches","data-toggle","tab",1,"nav-link","active"],[1,"material-icons"],[1,"ripple-container"],["mat-button","","href","#uploadfile","data-toggle","tab",1,"nav-link"],[1,"card-body"],[1,"tab-content"],["id","taches",1,"tab-pane","active"],[1,"files"],["class","row",4,"ngIf"],["id","uploadfile",1,"tab-pane"],[3,"formGroup","ngSubmit"],[1,"col-md-6"],["placeholder","Type de document","formControlName","docsList"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["ng2FileDrop","","accept","application/msword, application/vnd.ms-excel, \n                    application/vnd.ms-powerpoint, text/plain,\n                    application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document, \n                    application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, \n                    application/vnd.openxmlformats-officedocument.presentationml.slideshow, image/*",1,"well","my-drop-zone",2,"width","100%",3,"ngClass","uploader","fileOver"],[1,"dropfiles"],["type","file","ng2FileSelect","","multiple","","accept","application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint, text/plain,\n                    application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document, \n                    application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, \n                    application/vnd.openxmlformats-officedocument.presentationml.slideshow, image/*",1,"inputFile",2,"display","none","cursor","pointer",3,"uploader"],["fileInput",""],["class","col-md-2",4,"ngFor","ngForOf"],[1,"progress"],["role","progressbar",1,"progress-bar",3,"ngStyle"],["type","submit",1,"btn","btn-primary","btn-round","pull-right",3,"disabled"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"card-header-primary","custom-header",2,"margin-top","20px",3,"click"],[2,"margin-left","8px"],[2,"flex","1 1 auto"],[1,"material-icons","rotate",3,"id"],[1,"actions",3,"id"],["class","row","style","margin-top:20px",4,"ngIf"],["style","margin-top:20px","class","row",4,"ngIf"],[1,"row",2,"margin-top","20px"],["style","text-align: center;cursor: pointer","class","col-sm-2",4,"ngFor","ngForOf"],[1,"col-sm-2",2,"text-align","center","cursor","pointer"],[2,"width","80px","height","80px",3,"src","click"],[1,"actions",2,"cursor","pointer",3,"id"],[1,"material-icons","text-primary",2,"margin","auto","font-size","26px",3,"click"],[1,"form-row","text-center","col-md-12"],[1,"material-icons","demande",2,"font-size","700%"],[2,"width","100%"],[3,"value"],[1,"col-md-2"],[2,"width","80px","height","80px",3,"src"],[2,"text-align","left"],[1,"close","material-icons","text-danger",2,"font-size","26px","margin-right","25px",3,"click"]],template:function(t,e){1&t&&(m.Ub(0,"div",0),m.Ub(1,"div",1),m.Ub(2,"div",2),m.Ub(3,"div",3),m.Ub(4,"div",4),m.Ub(5,"div",5),m.Ub(6,"div",6),m.Ub(7,"div",7),m.Ub(8,"ul",8),m.Ub(9,"li",9),m.Ub(10,"a",10),m.Ub(11,"i",11),m.Tc(12,"list"),m.Tb(),m.Tc(13," documents envoy\xe9s "),m.Pb(14,"div",12),m.Tb(),m.Tb(),m.Ub(15,"li",9),m.Ub(16,"a",13),m.Ub(17,"i",11),m.Tc(18,"cloud_upload"),m.Tb(),m.Tc(19," Envoyer des documents "),m.Pb(20,"div",12),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(21,"div",14),m.Ub(22,"div",15),m.Ub(23,"div",16),m.Ub(24,"div",17),m.Rc(25,Ut,2,1,"div",18),m.Tb(),m.Tb(),m.Ub(26,"div",19),m.Ub(27,"form",20),m.gc("ngSubmit",(function(){return e.loadfiles()})),m.Ub(28,"mat-form-field",21),m.Ub(29,"mat-select",22),m.Rc(30,yt,2,2,"mat-option",23),m.Tb(),m.Rc(31,xt,2,0,"mat-error",24),m.Tb(),m.Pb(32,"br"),m.Ub(33,"label",25),m.gc("fileOver",(function(t){return e.fileOverAnother(t)})),m.Ub(34,"span",26),m.Tc(35,"Cliquer ou faire glisser les fichiers"),m.Tb(),m.Pb(36,"input",27,28),m.Tb(),m.Ub(38,"div",17),m.Ub(39,"div",2),m.Rc(40,wt,6,2,"div",29),m.Tb(),m.Pb(41,"br"),m.Tc(42," Avancement d'upload: "),m.Ub(43,"div",30),m.Pb(44,"div",31),m.Tb(),m.Tb(),m.Pb(45,"br"),m.Ub(46,"button",32),m.Tc(47,"Envoyer"),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb()),2&t&&(m.Bb(25),m.rc("ngIf",(null==e.service?null:e.service.clientDocs.length)>0),m.Bb(2),m.rc("formGroup",e.docsForm),m.Bb(3),m.rc("ngForOf",null==e.service?null:e.service.clientDocs),m.Bb(1),m.rc("ngIf",e.docsForm.controls.docsList.invalid),m.Bb(2),m.rc("ngClass",m.wc(10,Ot,e.hasAnotherDropZoneOver))("uploader",e.uploader),m.Bb(3),m.rc("uploader",e.uploader),m.Bb(4),m.rc("ngForOf",e.uploader.queue),m.Bb(4),m.rc("ngStyle",m.wc(12,St,e.uploader.progress+"%")),m.Bb(2),m.rc("disabled",0==e.uploader.queue.length))},directives:[ut.a,s.n,r.w,r.o,r.g,g.b,pt.a,r.n,r.f,s.m,ot.a,s.l,ot.b,s.o,ht.a,mt.n,g.a],styles:[".my-drop-zone[_ngcontent-%COMP%]{border:3px dotted #d3d3d3;height:300px;border-radius:20px;text-align:center}.dropfiles[_ngcontent-%COMP%]{font-size:25px;text-anchor:middle;line-height:300px;color:#d3d3d3}.files[_ngcontent-%COMP%]{padding:10px}.nv-file-over[_ngcontent-%COMP%]{border:3px dotted red}.another-file-over-class[_ngcontent-%COMP%]{border:3px dotted green}.close[_ngcontent-%COMP%]{position:absolute;top:0;right:28px;cursor:pointer}.actions[_ngcontent-%COMP%]{display:none}.demande[_ngcontent-%COMP%]{width:100%;text-align:center}.demande.material-icons[_ngcontent-%COMP%]{font-size:1000%;color:grey}.rotate[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s linear}.rotate.down[_ngcontent-%COMP%]{transform:rotate(180deg)}.custom-header[_ngcontent-%COMP%]{background:#fff!important;color:grey!important;border-bottom:1px solid grey;font-weight:100px;box-shadow:none!important}"]}),t})(),data:{title:"Documents"}}];var Bt=n("ZFy/");let Pt=(()=>{class t{}return t.\u0275mod=m.Mb({type:t}),t.\u0275inj=m.Lb({factory:function(e){return new(e||t)},imports:[[s.c,ot.c,i.h.forChild(Ct),r.i,r.t,ut.c,mt.t,g.d,f.c,pt.b,Bt.b,ht.b,Q.b,bt.b,p.l,b.b,u.c]]}),t})()}}]);